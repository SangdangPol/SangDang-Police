<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ì²­ì£¼ìƒë‹¹ê²½ì°°ì„œ í”¼ì‹± ê°€ë“œ</title>
    <style>
        /* [ë””ìì¸ ì‹œìŠ¤í…œ] */
        :root {
            --bg-main: #0f172a;
            --bg-card: rgba(30, 41, 59, 0.7);
            --primary: #3b82f6;
            --accent: #0ea5e9;
            --danger: #ef4444;
            --safe: #22c55e;
            --text-light: #f8fafc;
            --text-dim: #94a3b8;
            --glass-border: 1px solid rgba(255, 255, 255, 0.1);
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        /* [í•µì‹¬ ìˆ˜ì • 1] í™”ë©´ ì˜ë¦¼ ë°©ì§€: í™”ë©´ì„ ê³ ì •(Fixed)ì‹œì¼œë²„ë¦¼ */
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            margin: 0; background-color: #000; color: var(--text-light);
            position: fixed; top: 0; left: 0; right: 0; bottom: 0; /* í™”ë©´ ê½‰ ì±„ìš°ê¸° */
            display: flex; justify-content: center;
            background-image: linear-gradient(to bottom, #0f172a, #000);
            overflow: hidden; /* ìŠ¤í¬ë¡¤ ë°©ì§€ */
        }

        .app-frame {
            width: 100%; max-width: 450px; height: 100%;
            display: flex; flex-direction: column; position: relative;
            background: var(--bg-main);
        }

        /* í—¤ë” */
        .header {
            flex: 0 0 60px; /* ë†’ì´ ê³ ì • */
            padding: 0 20px; display: flex; align-items: center; justify-content: space-between;
            border-bottom: var(--glass-border); background: rgba(15, 23, 42, 0.9); z-index: 50;
        }
        .brand { display: flex; align-items: center; gap: 10px; font-weight: 700; font-size: 15px; }
        .brand-logo { width: 32px; height: 32px; object-fit: contain; }
        .dept-tag { background: linear-gradient(135deg, var(--primary), var(--accent)); padding: 4px 8px; border-radius: 12px; font-size: 10px; font-weight: bold; }

        /* ì»¨í…ì¸  ì˜ì—­ (ìŠ¤í¬ë¡¤ ê°€ëŠ¥) */
        .content-view {
            flex: 1; overflow-y: auto; padding: 20px;
            padding-bottom: 120px; /* í•˜ë‹¨ íƒ­ ê³µê°„ ì¶©ë¶„íˆ í™•ë³´ */
            display: none; -webkit-overflow-scrolling: touch;
        }
        .content-view.active { display: block; }

        /* í•˜ë‹¨ íƒ­ë°” [í•µì‹¬ ìˆ˜ì • 2: ìœ„ì¹˜ë¥¼ ë°”ë‹¥ì—ì„œ ë„ì›€] */
        .bottom-nav {
            position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%);
            width: 90%; max-width: 380px; height: 65px;
            background: rgba(15, 23, 42, 0.95); backdrop-filter: blur(20px);
            border-radius: 35px; border: var(--glass-border);
            display: flex; justify-content: space-around; align-items: center;
            z-index: 999; box-shadow: 0 10px 30px rgba(0,0,0,0.7);
        }

        /* ë‚˜ë¨¸ì§€ ìŠ¤íƒ€ì¼ (ê¸°ì¡´ ìœ ì§€) */
        .hero-banner { background: linear-gradient(135deg, #1e3a8a, #3b82f6); padding: 25px; border-radius: 20px; margin-bottom: 25px; position: relative; overflow: hidden; border: var(--glass-border); }
        .hero-banner h1 { margin: 0; font-size: 20px; font-weight: 800; }
        .hero-banner p { margin: 8px 0 0; opacity: 0.8; font-size: 13px; }
        .section-label { font-size: 14px; color: var(--accent); font-weight: bold; margin-bottom: 15px; display: block; }
        
        .grid-menu { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
        .menu-card { background: var(--bg-card); border: var(--glass-border); padding: 15px; border-radius: 16px; text-align: center; cursor: pointer; position: relative; display: flex; flex-direction: column; align-items: center; }
        .menu-card:active { transform: scale(0.96); background: rgba(59, 130, 246, 0.3); }
        .menu-icon { font-size: 28px; margin-bottom: 8px; }
        .menu-title { font-weight: bold; font-size: 14px; margin-bottom: 4px; }
        .menu-desc { font-size: 11px; color: var(--text-dim); }

        /* ì˜¤ë²„ë ˆì´ (ì „í™” í™”ë©´) */
        .overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 2000; background: #000; display: none; flex-direction: column; }
        .overlay.active { display: flex; }
        .call-screen { flex: 1; display: flex; flex-direction: column; justify-content: space-between; padding: 60px 30px 100px 30px; background: radial-gradient(circle at center, #1e293b 0%, #000 100%); }
        .caller-info { text-align: center; margin-top: 20px; }
        .c-name { font-size: 30px; font-weight: 700; margin: 10px 0; }
        .c-loc { color: #94a3b8; font-size: 14px; }
        .call-actions { display: flex; justify-content: space-around; width: 100%; }
        .c-btn { width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 28px; color: white; cursor: pointer; }
        .btn-red { background: var(--danger); }
        .btn-green { background: var(--safe); animation: pulse 1.5s infinite; }

        .chat-screen { flex: 1; display: flex; flex-direction: column; background: #0f172a; display: none; }
        .chat-body { flex: 1; overflow-y: auto; padding: 20px; padding-bottom: 100px; display: flex; flex-direction: column; gap: 15px; }
        .bubble { max-width: 80%; padding: 12px 16px; border-radius: 16px; font-size: 15px; line-height: 1.4; }
        .b-them { background: #334155; color: white; align-self: flex-start; }
        .b-me { background: var(--primary); color: white; align-self: flex-end; }
        .choice-area { background: #1e293b; padding: 20px; border-radius: 20px 20px 0 0; }
        .choice-btn { width: 100%; padding: 15px; margin-bottom: 10px; background: rgba(255,255,255,0.1); color: white; border-radius: 12px; text-align: left; font-size: 14px; }

        .result-screen { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 30px; text-align: center; background: #0f172a; display: none; }
        .score-circle { width: 150px; height: 150px; border-radius: 50%; border: 8px solid #334155; display: flex; align-items: center; justify-content: center; margin-bottom: 20px; }
        .score-circle.safe { border-color: var(--safe); }
        .score-circle.danger { border-color: var(--danger); }
        .s-num { font-size: 40px; font-weight: 900; }

        /* ì•„ì´ì½˜ */
        .nav-item { display: flex; flex-direction: column; align-items: center; gap: 4px; color: var(--text-dim); cursor: pointer; width: 60px; }
        .nav-icon-svg { width: 24px; height: 24px; fill: var(--text-dim); transition: all 0.2s; }
        .nav-item.active { color: var(--accent); }
        .nav-item.active .nav-icon-svg { fill: var(--accent); transform: translateY(-3px); filter: drop-shadow(0 0 5px var(--accent)); }

        /* í€´ì¦ˆ/ê°€ì´ë“œ ìŠ¤íƒ€ì¼ (ê¸°ì¡´ ìœ ì§€) */
        .quiz-card { background: var(--bg-card); border: var(--glass-border); padding: 15px; border-radius: 16px; margin-bottom: 15px; }
        .quiz-msg { background: #e2e8f0; color: #333; padding: 10px; border-radius: 8px; margin: 10px 0; font-size: 13px; }
        .quiz-btn-group { display: flex; gap: 10px; }
        .quiz-btn { flex: 1; padding: 10px; border: none; border-radius: 8px; font-weight: bold; }
        .q-fake { background: rgba(239, 68, 68, 0.2); color: #fca5a5; } .q-real { background: rgba(34, 197, 94, 0.2); color: #86efac; }
        .guide-item { display: flex; gap: 15px; background: var(--bg-card); padding: 15px; border-radius: 16px; margin-bottom: 10px; align-items: center; border: var(--glass-border); }

        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); } 70% { box-shadow: 0 0 0 20px rgba(34, 197, 94, 0); } 100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); } }
    </style>
</head>
<body>

<div class="app-frame">
    <audio id="ringtone" loop preload="auto"><source src="ringtone.mp3" type="audio/mpeg"></audio>

    <header class="header">
        <div class="brand">
            <img src="logo.png" alt="ë¡œê³ " class="brand-logo" onerror="this.style.display='none'"> 
            <span>ì²­ì£¼ìƒë‹¹ê²½ì°°ì„œ</span>
        </div>
        <span class="dept-tag">ë²”ì£„ì˜ˆë°©ëŒ€ì‘ê³¼</span>
    </header>

    <div id="view-home" class="content-view active">
        <div class="hero-banner">
            <h1>í”¼ì‹± ì˜ˆë°© í›ˆë ¨ì†Œ</h1>
            <p>6ëŒ€ ë²”ì£„ ìœ í˜•ì„ ê°€ìƒ ì²´í—˜í•˜ì„¸ìš”.</p>
        </div>
        <span class="section-label">âš¡ ì²´í—˜ ìœ í˜• ì„ íƒ</span>
        <div class="grid-menu">
            <div class="menu-card" onclick="startSim('prosecutor')"><span class="menu-icon">âš–ï¸</span><div class="menu-title">ê¸°ê´€ ì‚¬ì¹­</div></div>
            <div class="menu-card" onclick="startSim('loan')"><span class="menu-icon">ğŸ’°</span><div class="menu-title">ëŒ€ì¶œ ë¹™ì</div></div>
            <div class="menu-card" onclick="startSim('family')"><span class="menu-icon">ğŸ“±</span><div class="menu-title">ìë…€ ì‚¬ì¹­</div></div>
            <div class="menu-card" onclick="startSim('romance')"><span class="menu-icon">ğŸ’˜</span><div class="menu-title">ë¡œë§¨ìŠ¤ ìŠ¤ìº </div></div>
            <div class="menu-card" onclick="startSim('smishing')"><span class="menu-icon">ğŸ“©</span><div class="menu-title">ì§€ì›ê¸ˆ ë¬¸ì</div></div>
            <div class="menu-card" onclick="startSim('invest')"><span class="menu-icon">ğŸ“ˆ</span><div class="menu-title">íˆ¬ì ë¦¬ë”©ë°©</div></div>
        </div>
    </div>

    <div id="view-smishing" class="content-view">
        <div class="hero-banner" style="background: linear-gradient(135deg, #059669, #34d399);"><h1>ìŠ¤ë¯¸ì‹± íƒì§€ì†Œ</h1><p>ê°€ì§œ ë¬¸ìë¥¼ ì°¾ì•„ë‚´ì„¸ìš”.</p></div>
        <div class="quiz-card">
            <div>Q1. ëª¨ë°”ì¼ ì²­ì²©ì¥</div>
            <div class="quiz-msg">[Webë°œì‹ ] ê²°í˜¼í•©ë‹ˆë‹¤.<br>ì´ˆëŒ€ì¥: <strong>wedding.apk</strong></div>
            <div class="quiz-btn-group"><button class="quiz-btn q-fake" onclick="checkQuiz(true,true,'ì •ë‹µ! apkëŠ” ì•…ì„±íŒŒì¼ì…ë‹ˆë‹¤.')">ğŸš¨ ìŠ¤ë¯¸ì‹±</button><button class="quiz-btn q-real" onclick="checkQuiz(false,true,'ì˜¤ë‹µ! apkëŠ” ìœ„í—˜í•©ë‹ˆë‹¤.')">âœ… ì •ìƒ</button></div>
        </div>
        <div class="quiz-card">
            <div>Q2. íƒë°° ì£¼ì†Œ í™•ì¸</div>
            <div class="quiz-msg">[í†µìš´] ì£¼ì†Œì§€ ë¶ˆë¶„ëª….<br>í™•ì¸: <strong>cj-gls.xyz</strong></div>
            <div class="quiz-btn-group"><button class="quiz-btn q-fake" onclick="checkQuiz(true,true,'ì •ë‹µ! ì´ìƒí•œ ì£¼ì†Œì…ë‹ˆë‹¤.')">ğŸš¨ ìŠ¤ë¯¸ì‹±</button><button class="quiz-btn q-real" onclick="checkQuiz(false,true,'ì˜¤ë‹µ! íƒë°°ì‚¬ëŠ” ë§í¬ ì•ˆë³´ëƒ…ë‹ˆë‹¤.')">âœ… ì •ìƒ</button></div>
        </div>
    </div>

    <div id="view-guide" class="content-view">
        <div class="guide-title-box" style="display:flex; align-items:center; gap:10px; margin-bottom:20px;">
            <img src="logo.png" alt="CI" style="width:24px;" onerror="this.style.display='none'">
            <span style="font-weight:bold; color:var(--accent);">í–‰ë™ìˆ˜ì¹™</span>
        </div>
        <div class="guide-item"><div class="g-num">01</div><div><h3>URL í´ë¦­ ê¸ˆì§€</h3><p>ì¶œì²˜ ë¶ˆëª… ë§í¬ëŠ” ì ˆëŒ€ í´ë¦­ ê¸ˆì§€</p></div></div>
        <div class="guide-item"><div class="g-num">02</div><div><h3>ì•± ì„¤ì¹˜ ìš”êµ¬ X</h3><p>ê¸°ê´€ì€ ë³´ì•ˆ ì•± ì„¤ì¹˜ ìš”êµ¬ ì•ˆí•¨</p></div></div>
        <div class="guide-item"><div class="g-num">03</div><div><h3>112 í™•ì¸</h3><p>ì˜ì‹¬ë˜ë©´ ëŠê³  112 ì‹ ê³ </p></div></div>
    </div>

    <div id="sim-overlay" class="overlay">
        <div id="screen-call" class="call-screen">
            <div class="caller-info"><div class="c-sub">ìˆ˜ì‹  ì „í™”</div><div id="sim-name" class="c-name">ë°œì‹ ì</div><div class="c-loc">South Korea</div></div>
            <div class="call-actions"><div class="c-btn btn-red" onclick="endSim(100)">ğŸ“</div><div class="c-btn btn-green" onclick="answerCall()">ğŸ“</div></div>
        </div>
        <div id="screen-chat" class="chat-screen"><div class="header">í†µí™” ì¤‘</div><div id="chat-box" class="chat-body"></div><div id="choice-dock" class="choice-area"></div></div>
        <div id="screen-result" class="result-screen">
            <div id="res-circle" class="score-circle"><span id="res-score" class="s-num">0</span></div>
            <h2 id="res-title">ê²°ê³¼</h2><p id="res-desc">ì„¤ëª…</p>
            <button onclick="closeSim()" style="padding:15px 40px; border-radius:30px; border:none; background:var(--primary); color:white; font-weight:bold;">ëŒì•„ê°€ê¸°</button>
        </div>
    </div>

    <div class="bottom-nav">
        <div class="nav-item active" onclick="switchTab('home', this)">
            <svg class="nav-icon-svg" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg><span>í›ˆë ¨ì†Œ</span>
        </div>
        <div class="nav-item" onclick="switchTab('smishing', this)">
            <svg class="nav-icon-svg" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg><span>ìŠ¤ë¯¸ì‹±</span>
        </div>
        <div class="nav-item" onclick="switchTab('guide', this)">
            <svg class="nav-icon-svg" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"/></svg><span>ê°€ì´ë“œ</span>
        </div>
    </div>
</div>

<script>
    /* 1. ì†Œë¦¬ & ì§„ë™ ì—”ì§„ ìˆ˜ì • */
    let vibrationInterval = null;
    
    function playRingtone() {
        let audio = document.getElementById('ringtone');
        if (audio) {
            audio.currentTime = 0;
            // ì¤‘ìš”: ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ í´ë¦­í•œ ìˆœê°„ ì‹¤í–‰ë˜ë¯€ë¡œ ì¬ìƒë  í™•ë¥  ë†’ìŒ
            let playPromise = audio.play();
            if (playPromise !== undefined) {
                playPromise.catch(error => { console.log("ì†Œë¦¬ ìë™ì¬ìƒ ì°¨ë‹¨ë¨ (ì‚¬ìš©ì í„°ì¹˜ í•„ìš”)"); });
            }
        }
        
        // [ìˆ˜ì •] ì§„ë™ ë¬´í•œ ë°˜ë³µ (2íšŒ ëŠê¹€ í•´ê²°)
        if (navigator.vibrate) {
            // ë¨¼ì € í•œë²ˆ ìš¸ë¦¬ê³ 
            navigator.vibrate([1000, 1000]); 
            // ì¸í„°ë²Œë¡œ ê³„ì† ìš¸ë¦¬ê²Œ í•¨
            vibrationInterval = setInterval(() => {
                navigator.vibrate([1000, 1000]);
            }, 2000);
        }
    }

    function stopRingtone() {
        let audio = document.getElementById('ringtone');
        if (audio) { audio.pause(); audio.currentTime = 0; }
        
        if (vibrationInterval) {
            clearInterval(vibrationInterval);
            vibrationInterval = null;
        }
        if (navigator.vibrate) navigator.vibrate(0);
    }

    /* 2. í™”ë©´ ì „í™˜ ë¡œì§ */
    function switchTab(id, el) {
        document.querySelectorAll('.content-view').forEach(e => e.classList.remove('active'));
        document.getElementById('view-' + id).classList.add('active');
        document.querySelectorAll('.nav-item').forEach(e => e.classList.remove('active'));
        el.classList.add('active');
    }

    /* 3. ì‹œë‚˜ë¦¬ì˜¤ ë¡œì§ */
    const DB = {
        'prosecutor': { caller: 'ì„œìš¸ì¤‘ì•™ì§€ê²€', steps: [{t:"ê²€ì°°ì…ë‹ˆë‹¤. ëŒ€í¬í†µì¥ ì—°ë£¨ë˜ì—ˆìŠµë‹ˆë‹¤.", opt:[{tx:"ë„¤?", sc:-20, nx:1},{tx:"ì†Œì†ëŒ€ì„¸ìš”", sc:0, nx:99}]},{t:"ì•± ì„¤ì¹˜í•˜ì„¸ìš”.", opt:[{tx:"ë„¤", sc:-80, nx:-1},{tx:"ëŠìŠµë‹ˆë‹¤", sc:0, nx:99}]}] },
        'loan': { caller: '1588-XXXX', steps: [{t:"ì €ê¸ˆë¦¬ ëŒ€ì¶œ ëŒ€ìƒì…ë‹ˆë‹¤.", opt:[{tx:"ì •ë§ìš”?", sc:-20, nx:1},{tx:"ë¶ˆë²•ì´ì£ ", sc:0, nx:99}]},{t:"ê¸°ì¡´ ëŒ€ì¶œ ìƒí™˜í•˜ì„¸ìš”.", opt:[{tx:"ì…ê¸ˆí• ê²Œìš”", sc:-80, nx:-1},{tx:"ë³´ì´ìŠ¤í”¼ì‹±ì´ì£ ", sc:0, nx:99}]}] },
        'family': { caller: 'ë‚´ ë”¸â™¡', steps: [{t:"ì—„ë§ˆ í° ê³ ì¥ë‚¬ì–´. í¸ì˜ì  ìƒí’ˆê¶Œ ì¢€ ì‚¬ì¤˜.", opt:[{tx:"ì•Œê² ì–´", sc:-50, nx:-1},{tx:"ì „í™”í•´ë´", sc:0, nx:99}]}] },
        'romance': { caller: 'James', steps: [{t:"íŒŒë³‘ ëë‚¬ì–´. í†µê´€ë¹„ ë³´ë‚´ì¤˜.", opt:[{tx:"ë³´ë‚¼ê²Œ", sc:-100, nx:-1},{tx:"ì‚¬ê¸°ê¾¼ì•„", sc:0, nx:99}]}] },
        'smishing': { caller: 'ì²­ì£¼ì‹œì²­', steps: [{t:"ì²­ì£¼í˜ì´ ì ë¦½í•˜ì„¸ìš” (ë§í¬)", opt:[{tx:"í´ë¦­", sc:-100, nx:-1},{tx:"ë¬¸ìì•ˆë¯¿ì–´", sc:0, nx:99}]}] },
        'invest': { caller: 'ê¹€íŒ€ì¥', steps: [{t:"300% ìˆ˜ìµ ë³´ì¥í•©ë‹ˆë‹¤.", opt:[{tx:"ì–´ë–»ê²Œìš”?", sc:-30, nx:1},{tx:"ì‚¬ê¸°ì…ë‹ˆë‹¤", sc:0, nx:99}]},{t:"1000ë§Œì› ì…ê¸ˆí•˜ì„¸ìš”.", opt:[{tx:"ì…ê¸ˆí•¨", sc:-70, nx:-1},{tx:"ì‹ ê³ í•¨", sc:0, nx:99}]}] }
    };

    let curData, curScore;

    function startSim(type) {
        curData = DB[type]; curScore = 100;
        document.getElementById('sim-name').innerText = curData.caller;
        document.getElementById('sim-overlay').classList.add('active');
        ['screen-call','screen-chat','screen-result'].forEach(e=>document.getElementById(e).style.display='none');
        document.getElementById('screen-call').style.display='flex';
        
        // ì†Œë¦¬ì™€ ì§„ë™ ì‹œì‘
        playRingtone();
    }

    function answerCall() {
        stopRingtone();
        document.getElementById('screen-call').style.display='none';
        document.getElementById('screen-chat').style.display='flex';
        document.getElementById('chat-box').innerHTML='';
        playStep(0);
    }

    function endSim(score) {
        stopRingtone();
        ['screen-call','screen-chat','screen-result'].forEach(e=>document.getElementById(e).style.display='none');
        document.getElementById('screen-result').style.display='flex';
        
        let circle=document.getElementById('res-circle'), title=document.getElementById('res-title'), desc=document.getElementById('res-desc');
        document.getElementById('res-score').innerText=score;
        if(score>=90){ circle.className="score-circle safe"; title.innerText="ë°©ì–´ ì„±ê³µ"; title.style.color="var(--safe)"; desc.innerText="í›Œë¥­í•©ë‹ˆë‹¤!"; }
        else{ circle.className="score-circle danger"; title.innerText="í”¼í•´ ë°œìƒ"; title.style.color="var(--danger)"; desc.innerText="ë²”ì£„ ìˆ˜ë²•ì— ë„˜ì–´ê°”ìŠµë‹ˆë‹¤."; }
    }

    function checkQuiz(uFake, rFake, msg) {
        document.getElementById('sim-overlay').classList.add('active');
        endSim(uFake===rFake ? 100 : 0);
        document.getElementById('res-desc').innerText = msg;
    }

    function closeSim() {
        stopRingtone();
        document.getElementById('sim-overlay').classList.remove('active');
    }

    function playStep(idx) {
        if(idx===99||idx===-1) { endSim(curScore); return; }
        let step=curData.steps[idx];
        addBubble('them','...');
        setTimeout(()=>{
            let bs=document.querySelectorAll('.b-them'); bs[bs.length-1].innerText=step.t;
            let h=''; step.opt.forEach(o=>{ h+=`<div class="choice-btn" onclick="choose('${o.tx}',${o.sc},${o.nx})">${o.tx} ğŸ‘‰</div>`; });
            document.getElementById('choice-dock').innerHTML=h;
        },600);
    }
    function choose(t,s,n) { curScore+=s; addBubble('me',t); document.getElementById('choice-dock').innerHTML=''; setTimeout(()=>playStep(n),500); }
    function addBubble(w,t) { let b=document.getElementById('chat-box'), d=document.createElement('div'); d.className=`bubble b-${w}`; d.innerText=t; b.appendChild(d); b.scrollTop=b.scrollHeight; }
</script>

</body>
</html>
